var _createClass=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),_slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(i)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}define("mediaManagerPanelInfra/mediaManagerPanelConstants/mediaManagerPanelConstants",["constants"],function(e){"use strict";var t,n,a,i,r,s,o,l,d,c,u,p,m,_=e.MEDIA_MANAGER_MEDIA_TYPES,h={ADD_MEDIA:"ADD_MEDIA",RECENTLY_ADDED:"RECENTLY_ADDED",FREE_WIX_IMAGES:"FREE_WIX_IMAGES",FREE_WIX_ILLUSTRATIONS:"FREE_WIX_ILLUSTRATIONS",FREE_WIX_VECTOR_ART:"FREE_WIX_VECTOR_ART",FREE_WIX_SOCIAL_ICONS:"FREE_WIX_SOCIAL_ICONS",FREE_WIX_VIDEOS:"FREE_WIX_VIDEOS",SHUTTERSTOCK_IMAGES:"SHUTTERSTOCK_IMAGES",SHUTTERSTOCK_VIDEOS:"SHUTTERSTOCK_VIDEOS"},g=(_defineProperty(t={},h.RECENTLY_ADDED,"site_files"),_defineProperty(t,h.FREE_WIX_IMAGES,"free_images"),_defineProperty(t,h.FREE_WIX_ILLUSTRATIONS,"illustrations"),_defineProperty(t,h.FREE_WIX_VECTOR_ART,"vector_art"),_defineProperty(t,h.FREE_WIX_SOCIAL_ICONS,"social_icons"),_defineProperty(t,h.FREE_WIX_VIDEOS,"free_videos"),_defineProperty(t,h.SHUTTERSTOCK_IMAGES,"shutterstock_images"),_defineProperty(t,h.SHUTTERSTOCK_VIDEOS,"shutterstock_videos"),t),f=(_defineProperty(n={},h.ADD_MEDIA,"Media_Panel_Add_Media_Section_Label"),_defineProperty(n,h.RECENTLY_ADDED,"Media_Panel_Recently_Added_Section_Label"),_defineProperty(n,h.FREE_WIX_IMAGES,"Media_Panel_Wix_Images_Section_Label"),_defineProperty(n,h.FREE_WIX_VIDEOS,"Media_Panel_Wix_Videos_Section_Label"),_defineProperty(n,h.SHUTTERSTOCK_IMAGES,"Media_Panel_Shutterstock_Images_Section_Label"),_defineProperty(n,h.SHUTTERSTOCK_VIDEOS,"Media_Panel_Shutterstock_Videos_Section_Label"),n),P=(_defineProperty(a={},h.ADD_MEDIA,"Media_Panel_Add_Media_Section_Label"),_defineProperty(a,h.RECENTLY_ADDED,"Media_Panel_Recently_Added_Section_Label"),_defineProperty(a,h.FREE_WIX_IMAGES,"Media_Panel_MFW_Images_Section_Label"),_defineProperty(a,h.FREE_WIX_VIDEOS,"Media_Panel_MFW_Wix_Videos_Section_Label"),_defineProperty(a,h.SHUTTERSTOCK_IMAGES,"Media_Panel_Shutterstock_Images_Section_Label"),_defineProperty(a,h.SHUTTERSTOCK_VIDEOS,"Media_Panel_Shutterstock_Videos_Section_Label"),a),E=(_defineProperty(i={},h.RECENTLY_ADDED,"Media_Panel_Results_Site_Section_Label"),_defineProperty(i,h.FREE_WIX_IMAGES,"Media_Panel_Results_Wix_Images_Section_Label"),_defineProperty(i,h.FREE_WIX_VIDEOS,"Media_Panel_Results_Wix_Videos_Section_Label"),_defineProperty(i,h.FREE_WIX_ILLUSTRATIONS,"Media_Panel_Results_Illustrations_Section_Label"),_defineProperty(i,h.FREE_WIX_VECTOR_ART,"Media_Panel_Results_Vector_Art_Section_Label"),_defineProperty(i,h.FREE_WIX_SOCIAL_ICONS,"Media_Panel_Results_Social_Icons_Section_Label"),_defineProperty(i,h.SHUTTERSTOCK_IMAGES,"Media_Panel_Results_Shutterstock_Images_Section_Label"),_defineProperty(i,h.SHUTTERSTOCK_VIDEOS,"Media_Panel_Results_Shutterstock_Videos_Section_Label"),i),I=(_defineProperty(r={},h.RECENTLY_ADDED,"Media_Panel_Results_Site_Section_Label"),_defineProperty(r,h.FREE_WIX_IMAGES,"Media_Panel_MFW_Results_Wix_Images_Section_Label"),_defineProperty(r,h.FREE_WIX_VIDEOS,"Media_Panel_MFW_Results_Wix_Videos_Section_Label"),_defineProperty(r,h.FREE_WIX_ILLUSTRATIONS,"Media_Panel_MFW_Results_Illustrations_Section_Label"),_defineProperty(r,h.FREE_WIX_VECTOR_ART,"Media_Panel_MFW_Results_Vector_Art_Section_Label"),_defineProperty(r,h.FREE_WIX_SOCIAL_ICONS,"Media_Panel_MFW_Results_Social_Icons_Section_Label"),_defineProperty(r,h.SHUTTERSTOCK_IMAGES,"Media_Panel_Results_Shutterstock_Images_Section_Label"),_defineProperty(r,h.SHUTTERSTOCK_VIDEOS,"Media_Panel_Results_Shutterstock_Videos_Section_Label"),r),y={IMAGES:"images",ILLUSTRATIONS:"illustrations",VIDEOS:"videos",VECTOR_ART:"vectorArt",SOCIAL_ICONS:"social_icons"},S=(_defineProperty(s={},y.PHOTOS,"picture"),_defineProperty(s,y.IMAGES,"picture"),_defineProperty(s,y.ILLUSTRATIONS,"picture"),_defineProperty(s,y.SOCIAL_ICONS,"picture"),_defineProperty(s,y.VIDEOS,"video"),_defineProperty(s,y.VECTOR_ART,"shape"),s),T={IMAGE:"image",VIDEO:"video"},M="/_api/wix/digitalGoodsPriceQuote?digitalGoodsSkuGuid=",O={SHUTTERSTOCK:(o={},_defineProperty(o,T.IMAGE,M+"31396262-3737-3438-2d31-3131312d3434"),_defineProperty(o,T.VIDEO,M+"32313337-3765-3164-2D66-6164332D3131"),o),WIX:(l={},_defineProperty(l,_.PICTURE,M+"a783ee2d-0dfa-4b20-a33c-b0e5a10ed7f8"),_defineProperty(l,_.VIDEO,M+"bd349da8-aa45-4bda-856d-f2704585c2ff"),l)},D={ALL:"all",PRIVATE:"private",PUBLIC:"public",SHUTTERSTOCK:"shutterStock"},A=(_defineProperty(d={},h.ADD_MEDIA,"Media_Panel_Empty_Manager"),_defineProperty(d,h.RECENTLY_ADDED,"Media_Panel_Recently_Added"),_defineProperty(d,h.FREE_WIX_IMAGES,"Media_Panel_Wix_Images"),_defineProperty(d,h.FREE_WIX_VIDEOS,"Media_Panel_Wix_Videos"),_defineProperty(d,h.FREE_WIX_ILLUSTRATIONS,"Media_Panel_Wix_Illustrations"),_defineProperty(d,h.FREE_WIX_VECTOR_ART,"Media_Panel_Wix_Vector_Art"),_defineProperty(d,h.FREE_WIX_SOCIAL_ICONS,"Media_Panel_Wix_Social_Icons"),_defineProperty(d,h.SHUTTERSTOCK_IMAGES,"Media_Panel_Shutterstock_Images"),_defineProperty(d,h.SHUTTERSTOCK_VIDEOS,"Media_Panel_Shutterstock_Videos"),d),v=(_defineProperty(c={},h.ADD_MEDIA,"Media_Panel_Empty_Manager"),_defineProperty(c,h.RECENTLY_ADDED,"Media_Panel_Recently_Added"),_defineProperty(c,h.FREE_WIX_IMAGES,"Media_Panel_MFW_Wix_Images"),_defineProperty(c,h.FREE_WIX_VIDEOS,"Media_Panel_MFW_Wix_Videos"),_defineProperty(c,h.FREE_WIX_ILLUSTRATIONS,"Media_Panel_Wix_Illustrations"),_defineProperty(c,h.FREE_WIX_VECTOR_ART,"Media_Panel_Wix_Vector_Art"),_defineProperty(c,h.FREE_WIX_SOCIAL_ICONS,"Media_Panel_Wix_Social_Icons"),_defineProperty(c,h.SHUTTERSTOCK_IMAGES,"Media_Panel_Shutterstock_Images"),_defineProperty(c,h.SHUTTERSTOCK_VIDEOS,"Media_Panel_Shutterstock_Videos"),c),C=(_defineProperty(u={},h.RECENTLY_ADDED,function(){return{path:D.PRIVATE}}),_defineProperty(u,h.FREE_WIX_IMAGES,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return{path:D.PUBLIC+"/"+e}}),_defineProperty(u,h.FREE_WIX_VIDEOS,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return{path:D.PUBLIC+"/"+e}}),_defineProperty(u,h.SHUTTERSTOCK_IMAGES,function(){return{path:D.SHUTTERSTOCK+"/"+T.IMAGE}}),_defineProperty(u,h.SHUTTERSTOCK_VIDEOS,function(){return{path:D.SHUTTERSTOCK+"/"+T.VIDEO}}),u),R=(_defineProperty(p={},h.RECENTLY_ADDED,function(e){return{path:"search/"+D.ALL+"/"+e}}),_defineProperty(p,h.FREE_WIX_IMAGES,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return{path:"search/"+D.PUBLIC+"/"+e+"/"+t}}),_defineProperty(p,h.FREE_WIX_ILLUSTRATIONS,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return{path:"search/"+D.PUBLIC+"/"+e+"/"+t}}),_defineProperty(p,h.FREE_WIX_VECTOR_ART,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return{path:"search/"+D.PUBLIC+"/"+e+"/"+t}}),_defineProperty(p,h.FREE_WIX_SOCIAL_ICONS,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return{path:"search/"+D.PUBLIC+"/"+e+"/"+t}}),_defineProperty(p,h.FREE_WIX_VIDEOS,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return{path:"search/"+D.PUBLIC+"/"+e+"/"+t}}),_defineProperty(p,h.SHUTTERSTOCK_IMAGES,function(e){return{path:"search/"+D.SHUTTERSTOCK+"/"+e+"/"+T.IMAGE}}),_defineProperty(p,h.SHUTTERSTOCK_VIDEOS,function(e){return{path:"search/"+D.SHUTTERSTOCK+"/"+e+"/"+T.VIDEO}}),p),b=(_defineProperty(m={},_.PICTURE,T.IMAGE),_defineProperty(m,_.VIDEO,T.VIDEO),m);return{MEDIA_MANAGER_PANEL_TITLE:"Media_Panel_Header_Title",MEDIA_MANAGER_PANEL_NEW_TITLE:"Media_Panel_Header_New_Title",MEDIA_MANAGER_OPEN_SOURCE_BASE:"media_editor_panel",MEDIA_MANAGER_PANEL_SECTION_ID:h,PANEL_BI_SOURCE_SUFFIX:g,SHUTTERSTOCK_PAYMENT_API:"https://pix.wix.com",BLACK_ARROW_CONFIG:{messageUrl:"https://ws.wixmp.com/message",socketUrl:"wss://ws.wixmp.com/ws",tokenUrl:"//files.wix.com/users/get-batoken"},SOCKET_STATUSES:{INIT:"INIT",GOT_TOKEN:"GOT_TOKEN",GET_TOKEN_FAILED:"GET_TOKEN_FAILED",OPEN_STARTED:"OPEN_STARTED",REOPEN_STARTED:"REOPEN_STARTED",OPENED:"OPENED",CLOSED:"CLOSED"},TRANSCODING_STATUSES:{IN_DOWNLOAD_QUEUE:"IN-DOWNLOAD-QUEUE",DOWNLOADING:"DOWNLOADING",UPLOADING:"UPLOADING",IN_STORAGE:"IN-STORAGE",IN_QUEUE:"IN-QUEUE",PENDING:"PENDING",IN_PROGRESS:"INPROGRESS",PREVIEW_READY:"PREVIEW_READY",READY:"READY",FAILED:"FAILED",NONE:"NONE"},ITEMS_TO_LOAD_COUNT:6,SECTIONS_TITLES_MAP:f,SECTIONS_MFW_TITLES_MAP:P,SEARCH_SECTIONS_TITLES_MAP:E,SEARCH_SECTIONS_MFW_TITLES_MAP:I,PUBLIC_MEDIA_ROOT:y,PUBLIC_MEDIA_ROOT_MEDIA_TYPE_MAP:S,PRICE_INFO_URLS:O,SHUTTERSTOCK_MEDIA_TYPE:T,MEDIA_MANAGER_UPLOAD_SOURCES:{COMPUTER:"computer",FACEBOOK:"facebook",INSTAGRAM:"instagram",DROPBOX:"dropbox",GOOGLE_PHOTOS:"googlePhotos",GOOGLE_DRIVE:"drive"},MEDIA_SOURCES:D,NAVIGATION_TOOLTIP_KEYS:A,NAVIGATION_MFW_TOOLTIP_KEYS:v,VIDEO_FILE_TRANSCODING_FAILED_TOOLTIP_MESSAGE:"Media_Panel_Upload_Transcoding_Error",MEDIA_MANAGER_OPEN_OPTIONS_WHEN_SEARCH:R,MEDIA_MANAGER_OPEN_OPTIONS:C,MEDIA_MANAGER_MEDIA_TYPES_SHUTTER_STOCK_MEDIA_TYPES_MAP:b,FREE_WIX_SECTIONS_LIST:[h.FREE_WIX_IMAGES,h.FREE_WIX_VIDEOS,h.FREE_WIX_SOCIAL_ICONS,h.FREE_WIX_VECTOR_ART,h.FREE_WIX_ILLUSTRATIONS],ADD_TO_STAGE_METHOD:{CLICK:"click",DRAG:"drag",MEDIA_MANAGER:"media_manager"}}}),define("mediaManagerPanelInfra/mediaManagerPanelTypes/mediaManagerPanelTypes",["prop-types","mediaManagerPanelInfra/mediaManagerPanelConstants/mediaManagerPanelConstants"],function(e,t){"use strict";return{item:e.shape({name:e.string.isRequired,previewUrl:e.string.isRequired,mediaType:e.string.isRequired,width:e.number,height:e.number,fileUrl:e.string,fileOutput:e.shape({image:e.arrayOf(e.object)}),transcodingStatus:e.oneOf(Object.values(t.TRANSCODING_STATUSES))})}}),define("mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelAddCompData",["lodash","util"],function(r,e){"use strict";var s=e.backgroundUtils.getMediaPlayerVideoObject,n={pdf:"40d80b8089c8418a961cb75d96d491f7.png",doc:"b8964aa7650d463fac3b77e0d00e8f12.png",docx:"b8964aa7650d463fac3b77e0d00e8f12.png",ppt:"a41192b40f324972a1d919a8350965f8.png",ppx:"a41192b40f324972a1d919a8350965f8.png",xls:"757aeccaa7f4409b93913c55e36a194d.png",xlsx:"757aeccaa7f4409b93913c55e36a194d.png",odp:"ac1fbe0592434c58889947de5714b3c7.png",odt:"ac1fbe0592434c58889947de5714b3c7.png",other:"046956f7d55f4143a30b3b54669ee243.png"},o=640,l=360,d=100,c=function(e,t,n){var a=1<e,i=t||(a?o:l),r=n||(a?l:o),s=r+d;return i=a?r*e:(r=Math.max(i/e,s))<s?i:s*e,{width:Math.floor(i),height:Math.floor(r)}},u=function(e){var t=r.head(e.qualities);return t.width/t.height},p=function(e,t,n){var a=e.width,i=e.height;return 1<=t?i=(a=Math.min(a,n))/t:a=(i=Math.min(i,n))*t,{width:Math.round(a),height:Math.round(i)}};var t=function(e){return{type:"Component",componentType:"wysiwyg.viewer.components.LinkBar",skin:"wysiwyg.viewer.skins.LinkBarNoBGSkin",layout:{width:49*(e.length-1)+39,height:39,scale:1,rotationInDegrees:0,fixedPosition:!1},data:{type:"ImageList",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},items:r.map(e,function(e){return{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:e.title,uri:e.uri,description:"",width:200,height:200,alt:"",link:{type:"ExternalLink",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},url:"",target:"_blank"}}})},props:{type:"LinkBarProperties",metaData:{schemaVersion:"1.0"},gallery:"social_icons",iconSize:39,spacing:10,bgScale:1,orientation:"HORIZ"},style:{type:"TopLevelStyle",id:"lb1",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{groups:{displayer:{}}},componentClassName:"",pageId:"",compId:"",styleType:"system",skin:"wysiwyg.viewer.skins.LinkBarNoBGSkin"},activeModes:{}}};return{picture:function(e){var t=e.width,n=e.height,a=t,i=n,r=Math.min(600/t,600/n);return(600<t||600<n)&&(a=Math.floor(t*r),i=Math.floor(n*r)),{componentType:"wysiwyg.viewer.components.WPhoto",layout:{width:a,height:i},data:{width:e.width,height:e.height,alt:"",uri:e.uri,title:e.title,type:"Image",description:""}}},document:function(e){var t=r.split(e.uri,".").pop();return{type:"Component",componentType:"wysiwyg.viewer.components.documentmedia.DocumentMedia",layout:{width:90,height:140},data:{type:"Image",title:e.title,uri:n[t]||n.other,description:"",width:105,height:141,link:{docId:e.uri,name:e.title,type:"DocumentLink"}},style:"dm1",props:{type:"DocumentMediaProperties",showTitle:!1}}},music:function(e){return{componentType:"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer",layout:{width:304,height:60},data:{type:"SingleAudioPlayer",originalFileName:e.title,uri:e.uri},props:{autoplay:!1,loop:!1,showArtist:!0,showTrack:!0,volume:50,type:"SingleAudioPlayerProperties"},style:"SingleAudioPlayer_1"}},musicPlayer:function(e){var t=e.title,n=r.lastIndexOf(t,".");return{componentType:"wixui.MusicPlayer",layout:{width:300,height:70},data:{type:"MusicPlayerData",trackName:-1===n?t:t.slice(0,n),artistName:"",coverRef:{type:"Image",title:"wix-audio-demo-cover.jpg",uri:"f9a47e_e7631916c7e4468091c47929b7acdf8a~mv2.png",height:400,width:400},audioRef:{type:"WixAudio",title:e.title,uri:e.uri,duration:Math.floor(e.fileInput.duration/1e3)}},props:{id:"musicPlayerDefaultProps",type:"MusicPlayerProperties",showCover:!0,showArtistName:!0,showTrackName:!0,showProgressBar:!0,showTimeStamp:!0},style:"MusicPlayer_1",typ:"Component"}},video:function(e,t){var n=s(e,t),a=u(n),i=p(c(a),a,640);return{type:"Component",componentType:"wixui.VideoPlayer",layout:{width:i.width,height:i.height,rotationInDegrees:0,fixedPosition:!1},data:{type:"VideoPlayer",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},videoRef:r.defaults({metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1}},n),videoTitle:e.title,description:""},props:{type:"VideoPlayerProperties",metaData:{schemaVersion:"1.0"},showVideoTitle:!1,autoplay:!1,loop:!1,share:!0,controlsVisibility:"hover"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{groups:{},properties:{"alpha-backgroundColor":"0.25",backgroundColor:"#000000",font:"normal normal normal 40px/1.4em proxima-n-w01-reg",fontColor:"#FFFFFF"},propertiesSource:{"alpha-backgroundColor":"value",backgroundColor:"value",font:"value",fontColor:"value"}},componentClassName:"wixui.VideoPlayer",pageId:"",compId:"",styleType:"custom",skin:"wixui.skins.VideoPlayer"},skin:"wixui.skins.VideoPlayer"}},alphaVideo:function(e,t){var n=s(e,t),a=u(n),i=p(c(a),a,360);return{type:"Container",componentType:"wysiwyg.viewer.components.MediaPlayer",layout:{width:i.width,height:i.height,rotationInDegrees:0,fixedPosition:!1},components:[{type:"Component",componentType:"wysiwyg.viewer.components.MediaOverlayControls",skin:"skins.viewer.mediaOverlayControlsDefaultSkin",layout:{x:Math.round(i.width/2)-40,y:Math.round(i.height/2)-40,fixedPosition:!1,width:80,height:80,scale:1,rotationInDegrees:0},props:{type:"MediaOverlayControlsProperties",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1,autoGenerated:!1},playerId:"comp-jl2exfvc"},design:{type:"MediaControlsDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},iconsDefaultDesign:{type:"VectorImageDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},shapeStyle:{opacity:1,strokeOpacity:1,stroke:"#000000",enableStroke:!1,strokeWidth:1},overrideColors:{color1:"#FFFFFF",color2:"#000000"}},icons:[{type:"ControlIconDesignData",name:"playButton",svgId:"0da768_513035bd10774dcabdf6af1add823662.svg",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1}}],charas:"design-jl2i49z1"},style:{type:"TopLevelStyle",style:{groups:{},properties:{},propertiesSource:{}},styleType:"custom",skin:"skins.viewer.mediaOverlayControlsDefaultSkin",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1}}},{type:"Component",componentType:"wysiwyg.viewer.components.MediaControls",skin:"skins.viewer.mediaControlsNoControlsSkin",layout:{x:2,y:376,fixedPosition:!1,width:256,height:44,scale:1,rotationInDegrees:0},props:{type:"MediaControlsProperties",showStoryboard:"time",playerId:"comp-jl2exfvc",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1,autoGenerated:!1}},design:{type:"MediaControlsDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},iconsDefaultDesign:{type:"VectorImageDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},shapeStyle:{opacity:1,strokeOpacity:1,stroke:"#000000",enableStroke:!1,strokeWidth:1},overrideColors:{color1:"#ffffff"}},icons:[{type:"ControlIconDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},name:"volumeOn",svgId:"0da768_4026746ebab74627a513aa0df1511dea.svg"},{type:"ControlIconDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},name:"volumeOff",svgId:"0da768_c6d2d796452644a6a4a243c3afb7b781.svg"},{type:"ControlIconDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},name:"noAudio",svgId:"0da768_c6d2d796452644a6a4a243c3afb7b781.svg",iconDesign:{type:"VectorImageDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},overrideColors:{color1:"#a9a9a9"}}}]},style:{type:"TopLevelStyle",style:{groups:{},properties:{},propertiesSource:{}},styleType:"custom",skin:"skins.viewer.mediaControlsNoControlsSkin",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1}}}],design:{type:"MediaPlayerDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},background:{type:"BackgroundMedia",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},colorOverlay:"",mediaRef:r.defaults({type:"WixVideo",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},mediaFeatures:["alpha"]},n),imageOverlay:null,fittingType:"fill",colorOverlayOpacity:0,alignType:"center"},dataChangeBehaviors:[],cssStyle:{cssBorder:null,cssBorderRadius:null,cssBoxShadow:null}},props:{type:"MediaPlayerProperties",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1,autoGenerated:!1},autoplay:!0,loop:!0,disableAudio:!1,animatePoster:"none",playerInteraction:{click:"play",rollIn:"none",rollOut:"none",allowReplay:!0},mute:!0,playerAudioInteraction:{rollIn:"none",rollOut:"none"}},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{groups:{},properties:{},propertiesSource:{}},styleType:"custom",skin:"wysiwyg.viewer.skins.mediaPlayerSkin"},skin:"wysiwyg.viewer.skins.mediaPlayerSkin"}},socialBar:t,socialIcon:function(e){return t([e])},shape:function(e){return{type:"Component",componentType:"wysiwyg.viewer.components.VectorImage",layout:{width:200,height:200},data:{type:"VectorImage",svgId:e.uri},props:{type:"VectorImageProperties",displayMode:"fit"},design:{type:"VectorImageDesignData",shapeStyle:{opacity:1},overrideColors:null},style:{type:"TopLevelStyle",style:{groups:{},properties:{},propertiesSource:{}},componentClassName:"wysiwyg.viewer.components.VectorImage",styleType:"custom",skin:"skins.viewer.VectorImageSkin"},skin:"skins.viewer.VectorImageSkin"}},swf:function(e){return{type:"Component",componentType:"wysiwyg.viewer.components.FlashComponent",layout:{width:e.width,height:e.height},data:{type:"LinkableFlashComponent",title:e.title,uri:e.fileName,metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},placeHolderImage:{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Default Flash",uri:"7ff659c252dfd1ca5c76533695cb9611.wix_mp",description:"Some description here",width:128,height:128,alt:""}},props:{type:"FlashComponentProperties",metaData:{schemaVersion:"1.0"},displayMode:"original"},skin:"swf1"}}}}),define("mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelUtils",["lodash","wixmp","util","coreUtilsLib","constants","experiment","mediaManagerPanelInfra/mediaManagerPanelConstants/mediaManagerPanelConstants","mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelAddCompData"],function(h,r,e,n,t,a,i,s){"use strict";var o=e.url,g=t.MEDIA_MANAGER_MEDIA_TYPES,l=i.MEDIA_SOURCES,d=i.MEDIA_MANAGER_UPLOAD_SOURCES,c=i.TRANSCODING_STATUSES,u=i.PUBLIC_MEDIA_ROOT,p=i.MEDIA_MANAGER_OPEN_SOURCE_BASE,m=i.PANEL_BI_SOURCE_SUFFIX,_=i.MEDIA_MANAGER_PANEL_SECTION_ID,f=function(e){return e.source===l.SHUTTERSTOCK},P=function(e,t,n,a,i){return o.joinURL(function(e){switch(e){case l.PRIVATE:case l.PUBLIC:return"https://static.wixstatic.com";case l.SHUTTERSTOCK:default:return""}}(e),r.thumbnailGenerator.resize(t,{width:n,height:a,mode:i},"vanbrandt"))},E=function(e,t){return e.mediaType===t},I=function(e,t){return h.includes(t,e.mediaType)},y=function(e){return e<10?"0"+e:""+e},S=function(e){return(f(e)?h.get(e,"fileInfo.aspect"):e.width/e.height)||(E(e,g.VIDEO)?1.777:1)},T=function(e,t,n){var a=Math.min(e,n);return a<t?a:Math.max(a,t)},M=function(t,s){return new Promise(function(i,r){var e=window.open(t,"purchase","width=1000,height=550,scrollbars=1");window.addEventListener("message",function e(t){if(/premium\./i.test(t.origin)){var n=JSON.parse(t.data),a=n.packageUniqueId.split("_");_slicedToArray(a,1)[0]===s.id&&(window.removeEventListener("message",e,!1),n.success?i(s):r(s))}},!1),e.blur(),window.focus()})},O=function(e){return h.replace(e,/.*\//,"")};return{isRecentlyAddedSection:function(e){return e===i.MEDIA_MANAGER_PANEL_SECTION_ID.RECENTLY_ADDED},isItemOfType:E,isItemOneOfTypes:I,isSocialIconsRoot:function(e){return e===u.SOCIAL_ICONS},generatePictureThumbnailUrl:function(e,t,n,a){return f(e)?e.thumbnailUrl:P(e.source,e.fileUrl,t,n,a)},generatePicturePreviewUrl:function(e,t,n,a){return f(e)?e.previewUrl:P(e.source,e.fileUrl,t,n,a)},getVideoThumbnailUrl:function(e,t,n,a){var i=e.thumbnailUrl;if(f(e))return i;var r=h.get(e,"fileOutput.image",[]),s=r.length&&h.last(r).url||i;return s===i?i:P(e.source,s,t,n,a)},getPrivateMediaFileExtension:function(e){var t=e.fileUrl,n=h.chain(t).split(".").last().value();return n===t?"":n},getReadableDuration:function(e){var t=parseInt(e/1e3,10),n=t%60,a=parseInt(t/60,10),i=0;return 60<a&&(i=parseInt(a/60,10),a%=60),(i?y(i)+":":"")+y(a)+":"+y(n)},getPreviewRatio:S,getPreviewDimension:function(e,t,n,a,i){var r=S(e),s=f(e)||!e.width?n:T(e.width,t,n),o=f(e)||!e.height?i:T(e.height,a,i),l=1<=r?{width:s,height:Math.round(s/r)}:{width:Math.round(o*r),height:o};return l.width>n&&(l={width:n,height:Math.round(n/r)}),l},buyShutterStockItem:function(e,t){var n=t.shutterStockPaymentAPI+"/services/shutterstock/start_purchase?site_token="+t.siteMediaToken+"&image_id="+e.id+"&altsku=1",a=t.shutterStockPaymentAPI+"/services/shutterstock/video/start_purchase?site_token="+t.siteMediaToken+"&video_id="+e.id+"&altsku=1",i=e.mediaType===g.PICTURE?n:a;return M(i,e)},buyWixMediaItem:function(e,t){var n="https://pix.wix.com/services/wixstock/start_purchase?site_token="+t.siteMediaToken+"&image_id="+e.id;return M(n,e)},requestShutterStockItemsPrice:function(e,t){return n.requestsUtil.fetchJson(e,{credentials:"same-origin",method:"GET",headers:new Headers({Authorization:"MSID."+t})})},timeNow:function(){return Date.now()},prepareItemBeforeAddComponent:function(n){var e=n.id,t=n.mediaType,a=n.name,i=n.width,r=n.height,s=n.fileInput,o=n.fileOutput,l=n.embedHtml,d=n.externalSources,c=n.labels,u=n.tags,p=n.fileUrl,m=void 0===p?"":p,_={id:e,mediaType:t,fileName:O(m),uri:O(m),fileUrl:m,title:h.slice(a,0,40).join(""),fileInput:s,fileOutput:o,labels:c,tags:u};return I(n,[g.PICTURE,g.VIDEO,g.SWF])&&(_.width=i,_.height=r),E(n,g.VIDEO)&&(_.embedHtml=h.isUndefined(l)?null:l,_.externalSources=h.isUndefined(d)?null:d,_.fileBaseUrl=m.split("/").slice(0,2).join("/")),h.forEach(["thumbnailUrl","previewUrl","source"],function(e){var t;h.isUndefined(_[e])&&(_[e]=/Url/i.test(e)?(t=n[e],h.replace(t,/(http:\/\/[^\/]+\/)/i,"")):n[e])}),_},isAddMediaSection:function(e){return e===_.ADD_MEDIA},isUploadAddMediaSource:function(e){return e===d.COMPUTER},canShowPreviewForItem:function(e){return I(e,[g.PICTURE,g.SHAPE,g.VIDEO])},isVideoFileTranscodingFailed:function(e){return e.transcodingStatus===c.FAILED},isVideoFileTranscodedSuccessfully:function(e){var t=e.transcodingStatus;return h.isUndefined(t)||t===c.READY},isVideoFileTranscodingInProgress:function(e){var t=e.transcodingStatus;return Boolean(t)&&!h.includes([c.READY,c.FAILED],t)},getNthOrFirstItem:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]?e[t]:h.head(e)},getTopVisibleSectionIndex:function(e,a,t){var n=0;0<a&&(n=a+t>=h.last(e)[1]?e.length-1:h.reduce(e,function(e,t,n){return t[0]<=a&&t[1]>a?n:e},0));return n},transformSectionsDOMInstancesToDimensionIntervals:function(e){return h.map(e,function(e){var t=Math.floor(e.offsetTop);return[t,t+Math.floor(e.offsetHeight)+parseInt(window.getComputedStyle(e).marginBottom,10)]})},shiftDOMInstanceIntervals:function(e,i){return h.map(e,function(e){var t=_slicedToArray(e,2),n=t[0],a=t[1];return[n-i,a-i]})},sectionIdToBiField:function(e){return h.toLower(e)},tagsToString:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return h.join(e,",")},getComponentStructureCreator:function(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).isSocialIcon?s.socialIcon:h.includes(e.tags||[],"_mp4_alpha")?s.alphaVideo:e.mediaType===g.MUSIC&&a.isOpen("se_audioPlayerAddPanel")?s.musicPlayer:s[e.mediaType]},mapPublicMediaSubcategoryToRoot:function(e){return h.reduce(e,function(e,t){var n=t.id,a=function n(e){var t=e.subFolders;return t&&t.length?h.reduce(t,function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(n(t)))},[]):[e.id]}(t);return h.assign({},e,h.reduce(a,function(e,t){return h.assign({},e,_defineProperty({},t,n))},{}))},{})},extractFolderIdFromPath:function(e){if(!e)return"";var t=h.split(e,"/"),n=h.head(t);if("search"===n)return function(e){switch(h.nth(e,1)){case l.PRIVATE:return h.nth(e,3)||"";case l.PUBLIC:return h.nth(e,4);default:return""}}(t);switch(n){case l.PRIVATE:return h.nth(t,1)||"";case l.PUBLIC:return h.nth(t,2);default:return""}},getComposedComponentStructureCreator:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).isSocialIcon?s.socialBar:null},generateMediaManagerOpenSource:function(e,t){return p+"_"+m[e]+(t?"_search":"")},generateMediaManagerAddMediaSectionOpenSource:function(e){return p+"_add_media_section_"+e},findFirstParentButtonNode:function(e){return function e(t){return t&&t.tagName?"button"===h.toLower(t.tagName)?t:e(t.parentNode):null}(e)},getComponentStructureSkin:function(e){return h.get(e,"style.skin")||e.skin||e.style},isPublicMediaFilePaid:function(e){var t=e.systemTags||[];return h.includes(t,"paid")},isPublicMediaItem:function(e){return e.source===l.PUBLIC},addComponentData:s}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/mediaPreview.rt",["react","lodash","baseUILib"],function(e,t,n){"use strict";return function(){return e.createElement("div",{className:"media-manager-media-preview"},e.createElement("div",{className:"media-manager-media-preview__content "+t({"with-blue-background":this.isBackgroundBlue()}).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),style:this.getContentStyle()},this.isPictureItemPreview()?e.createElement("div",{className:"media-manager-media-preview__"+this.getItemMediaType(),style:this.getPicturePreviewStyle(),key:"picture"}):null,this.isVideoItemPreview()?e.createElement("video",{className:"media-manager-media-preview__video",src:this.getVideoPreviewUrl(),autoPlay:!0,muted:!0,loop:!0,ref:"videoInstance",key:"video"}):null),e.createElement("div",{className:"media-manager-media-preview__footer",style:this.getFooterStyle()},e.createElement("div",{style:this.getTitleTextWrapperStyle()},e.createElement("div",{className:"media-manager-media-preview__title-text"},e.createElement(n.TextLabel,{value:this.getName(),type:"T07",shouldTranslate:!1,enableEllipsis:!1}))),e.createElement("div",{className:"media-manager-media-preview__duration"},e.createElement(n.TextLabel,{value:this.getDuration(),type:"T07",shouldTranslate:!1,enableEllipsis:!1}))))}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/mediaPreview",["reactDOM","create-react-class","prop-types","lodash","util","constants","mediaManagerPanelInfra/mediaManagerPanelTypes/mediaManagerPanelTypes","mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelUtils","mediaManagerPanelInfra/mediaManagerPanelPresets/components/mediaPreview.rt"],function(e,t,n,a,i,r,s,o,l){"use strict";var d=i.imageTransform,c=r.MEDIA_MANAGER_MEDIA_TYPES;return t({displayName:"MediaManagerPanelMediaPreview",propTypes:{item:s.item.isRequired,isBackgroundBlue:n.bool},getInitialState:function(){return{dimension:o.getPreviewDimension(this.props.item,120,228,120,342)}},componentWillUnmount:function(){this.isVideoItemPreview()&&this.unmountVideoSafely()},unmountVideoSafely:function(){var e=this.getVideoInstance();e.pause(),e.src="",e.load()},getVideoInstance:function(){return e.findDOMNode(this.refs.videoInstance)},getName:function(){return this.props.item.name},getDimension:function(){return this.state.dimension},getContentStyle:function(){var e=this.getDimension(),t=e.width,n=e.height;return{width:Math.max(t,120),height:n}},getPicturePreviewStyle:function(){var e=this.getDimension(),t=e.width,n=e.height;return{backgroundImage:"url('"+this.getPicturePreviewUrl()+"')",width:t,height:n}},getItemMediaType:function(){return this.props.item.mediaType},getFooterStyle:function(){return{maxWidth:Math.max(this.getDimension().width,120)+"px"}},getTitleTextWrapperStyle:function(){return this.getFooterStyle()},isBackgroundBlue:function(){return this.props.isBackgroundBlue},isVideoItemPreview:function(){return o.isItemOfType(this.props.item,c.VIDEO)},isPictureItemPreview:function(){return o.isItemOneOfTypes(this.props.item,[c.PICTURE,c.SHAPE])},getPicturePreviewUrl:function(){var e=this.getDimension(),t=e.width,n=e.height;return o.generatePicturePreviewUrl(this.props.item,t,n,d.fittingTypes.SCALE_TO_FILL)},getVideoPreviewUrl:function(){return a.head(this.props.item.videoPreviewUrls)||""},getDuration:function(){var e=a.get(this.props.item,"fileInput.duration",null);return a.isNull(e)?e:o.getReadableDuration(e)},render:l})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/thumbnails/presetThumbnailExtensionLabel.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:"media-manager-panel-preset-extension-label"},"\n  ",this.props.label,"\n")}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/thumbnails/presetThumbnailExtensionLabel",["create-react-class","prop-types","mediaManagerPanelInfra/mediaManagerPanelPresets/components/thumbnails/presetThumbnailExtensionLabel.rt"],function(e,t,n){"use strict";return e({displayName:"thumbnailExtensionLabel",propTypes:{label:t.string.isRequired},render:n})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/thumbnails/presetThumbnail.rt",["react","lodash","constants","santa-editor-symbols","mediaManagerPanelInfra/mediaManagerPanelPresets/components/thumbnails/presetThumbnailExtensionLabel"],function(t,n,a,i,r){"use strict";return function(){return function(){var e=a.MEDIA_MANAGER_MEDIA_TYPES;return t.createElement("div",{className:"media-manager-panel-preset-thumbnail "+n({"with-blue-background":this.isBackgroundBlue()}).transform(function(e,t,n){t&&e.push(n)},[]).join(" ")},this.isItemOneOfTypes([e.PICTURE,e.SHAPE])?t.createElement("div",{className:n(_defineProperty({},this.getMediaType(),!0)).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),key:"picture"},t.createElement("img",{className:"media-manager-panel-preset-thumbnail__picture-image",src:this.getPictureThumbnailUrl(),onError:this.handlePictureError})):null,this.isItemOfType(e.VIDEO)?t.createElement("div",{className:n(_defineProperty({},this.getMediaType(),!0)).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),style:{backgroundImage:"url('"+this.getVideoThumbnailUrl()+"')"},key:"video"},t.createElement("div",{className:"media-manager-panel-preset-thumbnail__video-symbol"},t.createElement(i.symbol,{name:"bgVideoIndicator"})),t.createElement("div",{className:"media-manager-panel-preset-thumbnail__video-bottom-overlay"})):null,this.isItemOfType(e.MUSIC)?t.createElement("div",{className:n(_defineProperty({},this.getMediaType(),!0)).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),key:"music"},t.createElement(i.symbol,{name:"empty-document-illustration"}),t.createElement("div",{className:"media-manager-panel-preset-thumbnail__music-control-wrapper"},t.createElement("div",{className:"media-manager-panel-preset-thumbnail__music-symbol"},t.createElement(i.symbol,{name:"music"})))):null,this.isItemOneOfTypes([e.DOCUMENT,e.SWF])?t.createElement("div",{className:n(_defineProperty({},this.getMediaType(),!0)).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),key:"document"},t.createElement(i.symbol,{name:"document-illustration"})):null,this.isItemOneOfTypes([e.DOCUMENT,e.MUSIC,e.SWF])&&this.hasExtension()?t.createElement("div",{className:"media-manager-panel-preset-thumbnail__extension-label",key:"label"},t.createElement(r,{label:this.getExtension()})):null)}.apply(this,[])}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/thumbnails/presetThumbnail",["create-react-class","prop-types","lodash","util","mediaManagerPanelInfra/mediaManagerPanelTypes/mediaManagerPanelTypes","mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelUtils","mediaManagerPanelInfra/mediaManagerPanelPresets/components/thumbnails/presetThumbnail.rt"],function(e,t,n,a,i,r,s){"use strict";var o=a.imageTransform;return e({displayName:"MediaManagerPanelItemThumbnail",propTypes:{item:i.item.isRequired,onPictureError:t.func.isRequired,isBackgroundBlue:t.bool},imageSize:90,isBackgroundBlue:function(){return this.props.isBackgroundBlue},getMediaType:function(){return this.props.item.mediaType},getPictureThumbnailUrl:function(){var e=this.imageSize;return r.generatePictureThumbnailUrl(this.props.item,e,e,o.fittingTypes.SCALE_TO_FILL)},getVideoThumbnailUrl:function(){var e=this.imageSize;return r.getVideoThumbnailUrl(this.props.item,e,e,o.fittingTypes.SCALE_TO_FILL)},hasExtension:function(){return Boolean(r.getPrivateMediaFileExtension(this.props.item))},getExtension:function(){return"."+n.toUpper(r.getPrivateMediaFileExtension(this.props.item))},isItemOfType:function(e){return r.isItemOfType(this.props.item,e)},isItemOneOfTypes:function(e){return r.isItemOneOfTypes(this.props.item,e)},handlePictureError:function(){n.invoke(this.props,"onPictureError")},render:s})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/preset.rt",["react","lodash","baseUI","baseUILib","santa-editor-symbols","constants","mediaManagerPanelInfra/mediaManagerPanelPresets/components/thumbnails/presetThumbnail"],function(n,t,a,i,r,s,o){"use strict";return function(){return function(){var e=this.props.item;return n.createElement("div",{className:"media-manager-panel-preset",onClick:this.handlePresetClick,onMouseDown:function(e,t){this.handlePresetMouseDown(t)}.bind(this,e),ref:"presetInstance"},n.createElement(a.tooltip,{value:this.getItemPreviewElement(e),disabled:this.shouldDisablePreview(),styleType:s.UI.TOOLTIP.STYLE_TYPE.CONTENT_ONLY,noArrow:!0,alignment:"right",delay:"300",width:"252px"},n.createElement("div",{},this.hasPriceInfo()?function(e){var t=this.getPriceInfo();return n.createElement("div",{className:"media-manager-panel-preset__purchase-overlay",key:"presetOverlay","data-hook":"media-manager-panel-buy_item_button_wrapper"},n.createElement(i.Button,{className:"btn-sm media-manager-panel-preset__buy-item-button",onClick:this.handleBuyItemButtonClick},n.createElement("span",{dangerouslySetInnerHTML:{__html:t.symbol}}),n.createElement("span",{},t.value)))}.apply(this,[e]):null,this.shouldRenderTranscodingOverlay()?n.createElement("div",{className:"media-manager-panel-preset__transcoding-overlay",key:"videoTranscodingOverlay"},this.isTranscodingInProgress()||this.hasPictureLoadingError?n.createElement("div",{className:"media-manager-panel-preset__transcoding-indicator",key:"transcodingPreloader"},n.createElement(i.Composites.Preloader,{},n.createElement(i.Preloader,{}))):null,this.isTranscodingFailed()?n.createElement(a.tooltip,{value:this.getFailedTranscodingTooltipValue(),width:"171px",key:"transcodingFailedMessage"},n.createElement("div",{className:"media-manager-panel-preset__transcoding-failed-icon"},n.createElement(r.symbol,{name:"media-manager-panel-failed-transcoding-icon"}))):null):null,n.createElement("div",{className:"media-manager-panel-preset__thumbnail "+t({"with-error":this.hasPictureLoadingError}).transform(function(e,t,n){t&&e.push(n)},[]).join(" ")},n.createElement(o,{item:e,isBackgroundBlue:this.isBackgroundBlue(),onPictureError:this.handlePictureError})))),this.shouldDisplayName()?n.createElement("div",{className:"media-manager-panel-preset__title",key:"title"},n.createElement(i.TextLabel,{value:e.name,type:"T12",shouldTranslate:!1})):null)}.apply(this,[])}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/preset",["react","reactDOM","prop-types","lodash","constants","util","mediaManagerPanelInfra/mediaManagerPanelTypes/mediaManagerPanelTypes","mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelUtils","mediaManagerPanelInfra/mediaManagerPanelConstants/mediaManagerPanelConstants","mediaManagerPanelInfra/mediaManagerPanelPresets/components/mediaPreview","mediaManagerPanelInfra/mediaManagerPanelPresets/components/preset.rt"],function(t,a,e,i,n,r,s,o,l,d,c){"use strict";var u=r.hoc.withDoubleClickPrevention,p=n.MEDIA_MANAGER_MEDIA_TYPES,m=function(e){function n(e){_classCallCheck(this,n);var t=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={hasPictureLoadingError:!1},i.bindAll(t,["handlePresetClick","handleBuyItemButtonClick","handlePictureError"]),t}return _inherits(n,t.Component),_createClass(n,[{key:"getPresetInstance",value:function(){return a.findDOMNode(this.refs.presetInstance)}},{key:"shouldDisplayName",value:function(){return this.props.shouldDisplayName}},{key:"isBackgroundBlue",value:function(){return this.props.isBackgroundBlue}},{key:"isVideo",value:function(){return o.isItemOfType(this.item,p.VIDEO)}},{key:"canPresetBeUsed",value:function(){var e=this.isVideo();return!this.hasPictureLoadingError&&(!e||e&&!this.isTranscodingFailed())}},{key:"isTranscodingInProgress",value:function(){return o.isVideoFileTranscodingInProgress(this.item)}},{key:"isTranscodingFailed",value:function(){return o.isVideoFileTranscodingFailed(this.item)}},{key:"isTranscodedSuccessfully",value:function(){return o.isVideoFileTranscodedSuccessfully(this.item)}},{key:"shouldRenderTranscodingOverlay",value:function(){return this.hasPictureLoadingError||this.isVideo()&&(this.isTranscodingInProgress()||this.isTranscodingFailed())}},{key:"getFailedTranscodingTooltipValue",value:function(){return l.VIDEO_FILE_TRANSCODING_FAILED_TOOLTIP_MESSAGE}},{key:"getItemPreviewElement",value:function(e){return t.createElement(d,{item:e,isBackgroundBlue:this.isBackgroundBlue()})}},{key:"shouldDisablePreview",value:function(){return this.hasPictureLoadingError||!o.canShowPreviewForItem(this.item)||this.isVideo()&&!this.isTranscodedSuccessfully()}},{key:"getPriceInfo",value:function(){return this.props.priceInfo}},{key:"hasPriceInfo",value:function(){return Boolean(this.getPriceInfo())}},{key:"handlePictureError",value:function(){this.setState({hasPictureLoadingError:!0})}},{key:"handleBuyItemButtonClick",value:function(){i.invoke(this.props,"onBuyItem",this.item)}},{key:"handlePresetClick",value:function(e){this.props.isAnotherMouseActionAllowed(e)&&this.canPresetBeUsed()&&(i.invoke(this.props,"onClick",this.item),this.props.setClickTimeStamp(e))}},{key:"handlePresetMouseDown",value:function(e){if(e.preventDefault(),e.persist(),this.props.isAnotherMouseActionAllowed(e)&&i.isFunction(this.props.onItemDrag)&&this.canPresetBeUsed()){var t=this.getPresetInstance();this.props.onItemDrag(e,{item:this.item,rect:i.pick(t.getBoundingClientRect(),["left","top","width","height"])})}}},{key:"render",value:function(){return c.call(this)}},{key:"item",get:function(){return this.props.item}},{key:"hasPictureLoadingError",get:function(){return this.state.hasPictureLoadingError}}]),n}();return m.propTypes={item:s.item.isRequired,priceInfo:e.shape({value:e.number,symbol:e.string}),shouldDisplayName:e.bool,isBackgroundBlue:e.bool,onBuyItem:e.func,onClick:e.func,onItemDrag:e.func,setClickTimeStamp:e.func.isRequired,isAnotherMouseActionAllowed:e.func.isRequired},m.defaultProps={shouldDisplayName:!0},u(m)}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/section.rt",["react","lodash","santa-editor-symbols","mediaManagerPanelInfra/mediaManagerPanelPresets/components/preset"],function(e,t,n,a){"use strict";return function(){return e.createElement("div",{className:"media-manager-panel-section "+this.getSectionClassName(),"data-hook":this.props.dataHook},e.createElement("div",{className:"media-manager-panel-section__header"},"\n    ",this.props.title,"\n  "),e.createElement("div",{className:"media-manager-panel-section__content"},"\n    ",this.props.children,"\n  "))}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/section",["create-react-class","prop-types","lodash","mediaManagerPanelInfra/mediaManagerPanelPresets/components/section.rt"],function(e,t,n,a){"use strict";return e({displayName:"MediaManagerPanelSection",propTypes:{title:t.string.isRequired,className:t.string,children:t.node.isRequired,dataHook:t.string},getSectionClassName:function(){return this.props.className||""},render:a})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/presetSection.rt",["react","lodash","baseUILib","santa-editor-symbols","mediaManagerPanelInfra/mediaManagerPanelPresets/components/section","mediaManagerPanelInfra/mediaManagerPanelPresets/components/preset"],function(n,e,t,a,i,r){"use strict";return function(){return n.createElement(i,{title:this.props.title,dataHook:this.getDataHook()},n.createElement.apply(this,["ul",{className:"media-manager-panel-preset-section__presets"},e.map(this.props.items,function(e,t){return n.createElement("li",{className:"media-manager-panel-preset-section__preset",key:e.id},n.createElement(r,{item:e,priceInfo:this.getItemPrice(e),onBuyItem:this.buyItem,onClick:this.onItemClick,onItemDrag:this.onItemDrag,shouldDisplayName:this.shouldDisplayPresetName(),isBackgroundBlue:this.shouldSetBlueBackgroundToPreset()}))}.bind(this))]),this.props.action?n.createElement("div",{className:"media-manager-panel-preset-section__action-wrapper",key:"sectionAction"},n.createElement(t.Button,{className:"media-manager-panel-preset-section__action btn-sm btn-light",onClick:function(){this.props.action()}.bind(this)},n.createElement("span",{className:"media-manager-panel-preset-section__action-content-wrapper"},n.createElement("span",{className:"media-manager-panel-preset-section__action-text"},"\n          ",this.getShowMoreLabel(),"\n        "),n.createElement(a.symbol,{name:"arrowRightSmall"})))):null)}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/presetSection",["create-react-class","prop-types","lodash","util","mediaManagerPanelInfra/mediaManagerPanelTypes/mediaManagerPanelTypes","mediaManagerPanelInfra/mediaManagerPanelPresets/components/presetSection.rt"],function(e,t,n,a,i,r){"use strict";var s=a.translate;return e({displayName:"MediaManagerPanelPresetSection",propTypes:{id:t.string,title:t.string,items:t.arrayOf(i.item),options:t.shape({shouldDisplayPresetName:t.bool,shouldSetBlueBackgroundToPreset:t.bool,getItemPrice:t.func,buyItem:t.func,onItemClick:t.func,folderId:t.string}),action:t.func},getShowMoreLabel:function(){return s("Media_Panel_Results_Show_More_Label_OnHover")},shouldDisplayPresetName:function(){return this.props.options.shouldDisplayPresetName},shouldSetBlueBackgroundToPreset:function(){return Boolean(this.props.options.shouldPresetHaveBlueBackground)},getItemPrice:function(e){if(n.isFunction(this.props.options.getItemPrice))return this.props.options.getItemPrice(e)},buyItem:function(e){n.isFunction(this.props.options.buyItem)&&this.props.options.buyItem(e)},onItemClick:function(e){n.isFunction(this.props.options.onItemClick)&&this.props.options.onItemClick({id:this.props.id,folderId:this.props.options.folderId,item:e})},onItemDrag:function(e,t){n.isFunction(this.props.options.startItemDrag)&&this.props.options.startItemDrag({event:e,dragItemInfo:t,folderId:this.props.options.folderId,id:this.props.id})},getDataHook:function(){return"media-manager-panel-"+n.toLower(this.props.id)+"_section"},render:r})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/addMediaSection.rt",["react","lodash","santa-editor-symbols","baseUI","constants","mediaManagerPanelInfra/mediaManagerPanelPresets/components/section"],function(i,r,s,o,t,n){"use strict";return function(){return function(){var e=t.MEDIA_MANAGER_UPLOAD_SOURCES;return i.createElement(n,{className:"media-manager-panel-add-media-section",title:this.props.title},i.createElement.apply(this,["ul",{className:"media-manager-panel-add-media-section__sources"},r.map(this.getSources(),function(e,t,n){var a=this;return i.createElement("li",{className:"media-manager-panel-add-media-section__source",key:t},i.createElement(o.tooltip,{value:this.getSourceTooltipText(t),delay:"300"},i.createElement("button",{className:"media-manager-panel-add-media-section__source-button "+r({"media-manager-panel-add-media-section__upload-button":this.isLocalSource(t)}).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),onClick:function(){return a.handleAddMediaButtonClick(t)}},i.createElement(s.symbol,{name:this.getIconName(t),key:"externalSource"}))))}.bind(this,e))]))}.apply(this,[])}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/addMediaSection",["create-react-class","prop-types","lodash","mediaManagerPanelInfra/mediaManagerPanelConstants/mediaManagerPanelConstants","mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelUtils","mediaManagerPanelInfra/mediaManagerPanelPresets/components/addMediaSection.rt"],function(e,t,n,a,i,r){"use strict";var s,o,l=a.MEDIA_MANAGER_UPLOAD_SOURCES,d=(_defineProperty(s={},l.COMPUTER,"upload-btn"),_defineProperty(s,l.FACEBOOK,"media-manager-panel-facebook-icon"),_defineProperty(s,l.INSTAGRAM,"media-manager-panel-instagram-icon"),_defineProperty(s,l.GOOGLE_DRIVE,"media-manager-panel-googledrive-icon"),_defineProperty(s,l.GOOGLE_PHOTOS,"media-manager-panel-googlephotos-icon"),s),c=(_defineProperty(o={},l.COMPUTER,"Media_Panel_Upload_Upload_Media_Tooltip"),_defineProperty(o,l.FACEBOOK,"Media_Panel_Upload_Facebook_Tooltip"),_defineProperty(o,l.INSTAGRAM,"Media_Panel_Upload_Instagram_Tooltip"),_defineProperty(o,l.GOOGLE_DRIVE,"Media_Panel_Upload_Google_Drive_Tooltip"),_defineProperty(o,l.GOOGLE_PHOTOS,"Media_Panel_Upload_Google_Photos_Tooltip"),o),u=[l.COMPUTER,l.FACEBOOK,l.INSTAGRAM,l.GOOGLE_DRIVE,l.GOOGLE_PHOTOS];return e({displayName:"MediaManagerPanelAddMediaSection",propTypes:{title:t.string.isRequired,onButtonClick:t.func.isRequired},isLocalSource:function(e){return i.isUploadAddMediaSource(e)},getSources:function(){return u},getIconName:function(e){return d[e]},getSourceTooltipText:function(e){return c[e]},handleAddMediaButtonClick:function(e){this.props.onButtonClick(e)},render:r})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/search.rt",["react","lodash","baseUILib","santa-editor-symbols"],function(e,t,n,a){"use strict";return function(){return e.createElement("div",{className:"media-manager-panel-search"},e.createElement("div",{className:"media-manager-panel-search__input-wrapper "+t({focused:this.isFocused(),"with-query":!this.isQueryEmpty()}).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),onClick:this.handleWrapperClick,onMouseDown:this.handleWrapperMouseDown},e.createElement("span",{className:"media-manager-panel-search__search-icon"},e.createElement(a.symbol,{name:"media-manager-panel-search"})),e.createElement("input",{className:"media-manager-panel-search__input",value:this.state.query,placeholder:this.getPlaceholderText(),onChange:this.handleInputValueChange,onKeyDown:this.handleKeyDown,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,ref:"inputInstance"}),e.createElement("div",{className:"media-manager-panel-search__button-wrapper "+t(_defineProperty({},"is-visible",this.isButtonVisible())).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),"data-hook":"media-manager-panel-search_button_wrapper"},this.isFocused()?null:e.createElement(n.Button,{className:"media-manager-panel-search__button media-manager-panel-search__clear-search-button btn btn-light",onClick:this.handleClearSearchButtonClick,key:"clearSearchButton"},e.createElement(a.symbol,{name:"headerCloseButton"})),this.isFocused()?e.createElement(n.Button,{className:"media-manager-panel-search__button media-manager-panel-search__start-search-button btn",key:"startSearchButton",ref:"buttonInstance"},e.createElement(a.symbol,{name:"media-manager-panel-arrow-right"})):null)))}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/search",["reactDOM","create-react-class","prop-types","lodash","util","mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelUtils","mediaManagerPanelInfra/mediaManagerPanelPresets/components/search.rt"],function(e,t,n,a,i,r,s){"use strict";return t({displayName:"MediaManagerPanelSearch",propTypes:{value:n.string,onSearchStart:n.func.isRequired,placeholder:n.string,onClearSearchButtonClick:n.func,onBlur:n.func,searchOnEnterPressed:n.bool},getDefaultProps:function(){return{value:"",searchOnEnterPressed:!0}},getInitialState:function(){return{query:this.props.value,isFocused:!1}},getQuery:function(){return this.state.query},isFocused:function(){return this.state.isFocused},getInputInstance:function(){return e.findDOMNode(this.refs.inputInstance)},getStartSearchButtonInstance:function(){return e.findDOMNode(this.refs.buttonInstance)},getPlaceholderText:function(){return i.translate(this.props.placeholder||"Media_Panel_Search_Placeholder_Text")},isQueryEmpty:function(){return a.isEmpty(this.getQuery())},isButtonVisible:function(){return!this.isQueryEmpty()},startSearch:function(e){return a.invoke(this.props,"onSearchStart",e)},handleBlur:function(e){return a.invoke(this.props,"onBlur",e)},handleInputValueChange:function(e){this.setState({query:e.target.value})},handleWrapperClick:function(){this.getInputInstance().focus()},handleWrapperMouseDown:function(e){var t=this,n=this.getStartSearchButtonInstance();n&&r.findFirstParentButtonNode(e.target)===n&&setTimeout(function(){t.startSearch(t.state.query)},0)},handleClearSearchButtonClick:function(){var e=this.props.onClearSearchButtonClick;e&&e(),this.setState({query:""})},handleInputFocus:function(){this.setState({isFocused:!0})},handleInputBlur:function(){this.setState({isFocused:!1}),this.handleBlur(this.state.query)},handleKeyDown:function(e){e&&"Enter"===e.key&&this.props.searchOnEnterPressed&&(this.getInputInstance().blur(),this.startSearch(this.state.query))},render:s})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/mediaManagerPanelPresets",["mediaManagerPanelInfra/mediaManagerPanelPresets/components/presetSection","mediaManagerPanelInfra/mediaManagerPanelPresets/components/addMediaSection","mediaManagerPanelInfra/mediaManagerPanelPresets/components/search"],function(e,t,n){"use strict";return{presetSection:e,addMediaSection:t,search:n}}),define("mediaManagerPanelInfra",["mediaManagerPanelInfra/mediaManagerPanelPresets/mediaManagerPanelPresets","mediaManagerPanelInfra/mediaManagerPanelTypes/mediaManagerPanelTypes","mediaManagerPanelInfra/mediaManagerPanelConstants/mediaManagerPanelConstants","mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelUtils"],function(e,t,n,a){"use strict";return{presets:e,types:t,constants:n,utils:a}});
//# sourceMappingURL=mediaManagerPanelInfra.min.js.map